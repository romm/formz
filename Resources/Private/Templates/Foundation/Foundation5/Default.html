<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xsd.helmut-hummel.de/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:fz="http://typo3.org/ns/Romm/Formz/ViewHelpers">

<f:layout name="{layout}" />

<f:section name="Label">
	<f:if condition="{labelWrap}">
		<f:then>
			<label class="{fz:class(name: 'errors.error')}">{label}
				<f:render section="Field" arguments="{_all}" />
			</label>
		</f:then>
		<f:else>
			<label class="{fz:class(name: 'errors.error')}">{label}</label>
			<f:render section="Field" arguments="{_all}" />
		</f:else>
	</f:if>
</f:section>

<f:section name="Field">
	<fz:slot.render slot="Field" />
</f:section>

<f:section name="Messages">
	<fz:slot.render slot="Messages.Out.Before" />

	<div fz-field-message-container="{fieldName}">

		<fz:slot.render slot="Messages.In.Before" />

		<div fz-field-message-list="{fieldName}">
			<f:form.validationResults for="{formName}.{fieldName}">
				<f:if condition="{validationResults.errors}">
					<div class="error">
						<f:for each="{validationResults.errors}" as="error">
							<fz:formatMessage message="{error}" />
						</f:for>
					</div>
				</f:if>
				<f:if condition="{validationResults.warnings}">
					<div class="warning">
						<f:for each="{validationResults.warnings}" as="warning">
							<fz:formatMessage message="{warning}" />
						</f:for>
					</div>
				</f:if>
				<f:if condition="{validationResults.notices}">
					<div class="info">
						<f:for each="{validationResults.notices}" as="notice">
							<fz:formatMessage message="{notice}" />
						</f:for>
					</div>
				</f:if>
			</f:form.validationResults>
		</div>

		<fz:slot.render slot="Messages.In.After" />
	</div>

	<fz:slot.render slot="Messages.Out.After" />
</f:section>

</html>
